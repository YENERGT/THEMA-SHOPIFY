{% layout 'default' %}

<!-- Unified Section: Video, Pricing, and Reviews -->
<div class="container" style="background-color: #000; padding: 20px;">
    <!-- SEO Metadata -->
    <div style="display: none;">
        <h1>Automatización de Factura Electrónica FEL en Shopify - Guatemala</h1>
        <p>Optimiza tu negocio con nuestro servicio de integración de Factura Electrónica FEL en Shopify. Soluciones rápidas, eficientes y aprobadas en Guatemala.</p>
        <p>Factura Electrónica FEL automatizada, integración de Shopify con FEL, soluciones para negocios en Guatemala.</p>
    </div>

    <!-- Video Section -->
    <div class="video-section" style="display: flex; flex-direction: column; align-items: center; justify-content: center; margin-bottom: 20px; text-align: center;">
        <h2 style="color: #fff; font-family: 'Ubuntu Mono', monospace; margin-bottom: 10px; font-size: 3rem;">SHOPIFY y FEL</h2>
        <video autoplay loop muted playsinline id="shopifyFelVideo" style="width: 100%; max-width: 800px; border-radius: 10px; display: block;">
            <source src="https://cdn.shopify.com/s/files/1/0289/7264/6460/files/IMG_6938.MP4?v=1737768775" type="video/mp4">
            Tu navegador no soporta videos HTML5.
        </video>
        <p style="display: none;">Mira cómo nuestro sistema automatiza la emisión de Facturas Electrónicas FEL en Shopify, aprobado para su uso en Guatemala. Video explicativo del proceso de integración de FEL con Shopify.</p>
        <div class="typing-effect" style="color: #fff; font-family: 'Ubuntu Mono', monospace; font-size: 2.5rem; margin-top: 10px;">
            <span id="typed-text"></span><span class="blinking-cursor">|</span>
        </div>
    </div>

    <!-- Pricing Table -->
    <div>
        <h2 style="color: #fff; font-family: 'Ubuntu Mono', monospace; font-size: 2rem; text-align: center;">Planes y Precios</h2>
        <script async src="https://js.stripe.com/v3/pricing-table.js"></script>
        <stripe-pricing-table 
            pricing-table-id="prctbl_1Qkt28EYpxJzICojmffnpz7K"
            publishable-key="pk_live_51MJ6wOEYpxJzICojP0kyDmOrgRH8kxa6RwT8rpLuK6JYVPbOCyQ2966da3FRzTtttRG9OlcInZlAQH0wUZjEF0s7006IGtzAB0">
        </stripe-pricing-table>
    </div>

    <!-- Reviews Carousel -->
    <div class="reviews-section" style="overflow: hidden; margin-top: 20px;">
        <h2 style="color: #fff; font-family: 'Ubuntu Mono', monospace; font-size: 2rem; text-align: center;">Opiniones de Nuestros Clientes</h2>
        <div id="reviewsCarousel" class="reviews-carousel">
            <div class="review-bubble text-center">
                <p class="text-white">"Excelente servicio, fácil de usar y muy eficiente."</p>
                <div class="text-warning">★★★★★</div>
            </div>
            <div class="review-bubble text-center">
                <p class="text-white">"Integración perfecta con mi tienda Shopify. ¡Recomendado!"</p>
                <div class="text-warning">★★★★★</div>
            </div>
            <div class="review-bubble text-center">
                <p class="text-white">"Increíble soporte al cliente, siempre atentos."</p>
                <div class="text-warning">★★★★★</div>
            </div>
            <div class="review-bubble text-center">
                <p class="text-white">"Muy satisfecho con los resultados. ¡Repetiré!"</p>
                <div class="text-warning">★★★★★</div>
            </div>
            <div class="review-bubble text-center">
                <p class="text-white">"El mejor sistema para mi negocio."</p>
                <div class="text-warning">★★★★★</div>
            </div>
        </div>
    </div>

    <!-- Subscription Button -->
    <div style="display: flex; justify-content: center; align-items: center; margin-top: 20px; height: 150px;">
        <a href="https://billing.stripe.com/p/login/5kA5kVcBGaXYalOfYY" class="btn-subscription">Gestionar Suscripción</a>
    </div>

    <!-- Contact Section -->
    <div style="text-align: center; margin-bottom: 20px;">
        <h2 style="color: #fff; font-family: 'Ubuntu Mono', monospace; font-size: 2rem;">Contáctanos</h2>
    </div>
    <div class="buttons-section" style="display: flex; justify-content: center; align-items: center; gap: 20px; flex-wrap: nowrap; margin: 20px 0;">
        <div style="text-align: center;">
            <a href="https://wa.me/50253431943" class="circle-button whatsapp" style="background-color: #25D366;">
                <img loading="lazy" src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 50%;">
            </a>
            <p style="color: #fff; font-family: 'Ubuntu Mono', monospace; margin-top: 10px; font-size: 0.9rem;">WhatsApp</p>
        </div>
        <div style="text-align: center;">
            <a href="https://felplex.com/" class="circle-button web" style="background-color: #3b5998;">
                <img loading="lazy" src="https://cdn.shopify.com/s/files/1/0289/7264/6460/files/fel_logo-Photoroom.png?v=1737773347" alt="Web" style="width: 50%;">
            </a>
            <p style="color: #fff; font-family: 'Ubuntu Mono', monospace; margin-top: 10px; font-size: 0.9rem;">FELPLEX</p>
        </div>
        <div style="text-align: center;">
            <a href="mailto:isaias@gruporevisa.net" class="circle-button email" style="background-color: #D14836;">
                <img loading="lazy" src="https://cdn.shopify.com/s/files/1/0289/7264/6460/files/gmail_logo-Photoroom.png?v=1737773211" alt="Email" style="width: 50%;">
            </a>
            <p style="color: #fff; font-family: 'Ubuntu Mono', monospace; margin-top: 10px; font-size: 0.9rem;">Email</p>
        </div>
    </div>

    <!-- Logos Section -->
    <div class="logos-section" style="display: flex; justify-content: center; align-items: center; margin-top: 40px; flex-wrap: wrap; gap: 20px;">
        <div style="display: flex; align-items: center; gap: 10px; justify-content: center; flex-wrap: wrap;">
            <p style="color: #fff; font-size: 1.5rem; margin: 0;">Creado por</p>
            <img loading="lazy" src="https://cdn.shopify.com/s/files/1/0289/7264/6460/files/Adobe_Express_20230423_1933570_1_5abf345d-a84c-46f9-8b04-97f43ef89251.png?v=1731103054" alt="Creado por" style="height: 60px; width: auto;">
        </div>
        <div style="display: flex; align-items: center; gap: 10px; justify-content: center; flex-wrap: wrap;">
            <p style="color: #fff; font-size: 1.5rem; margin: 0;">Proceso de pago por</p>
            <img loading="lazy" src="https://cdn.shopify.com/s/files/1/0289/7264/6460/files/Adobe_Express_20230423_1933570_1_4_-Photoroom.png?v=1735621193" alt="Proceso de pago por" style="height: 60px; width: auto;">
        </div>
    </div>
</div>


<!-- Styles -->
<style>
    @import url('https://fonts.googleapis.com/css2?family=Ubuntu+Mono:wght@400;700&display=swap');

    body {
        background-color: #000;
        color: #fff;
        font-family: 'Ubuntu Mono', monospace;
    }

    .reviews-section {
        overflow: hidden;
        margin-top: 20px;
    }

    .reviews-carousel {
        display: flex;
        animation: scrollReviews 20s linear infinite;
    }

    .review-bubble {
        flex-shrink: 0;
        width: 100%;
        max-width: 500px;
        margin: 0 10px;
        padding: 20px;
        background-color: #333;
        border-radius: 15px;
        text-align: center;
        color: #fff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .text-warning {
        font-size: 1.5rem;
    }

    .btn-subscription {
        display: inline-block;
        padding: 10px 20px;
        background-color: #333;
        color: #fff;
        font-size: 1rem;
        font-family: 'Ubuntu Mono', monospace;
        border-radius: 5px;
        text-decoration: none;
        transition: background-color 0.3s ease, transform 0.3s ease;
        text-align: center;
        border: 2px solid yellow;
        position: relative;
        overflow: hidden;
    }

    .btn-subscription:hover {
        background-color: #555;
        transform: scale(1.05);
    }

    .btn-subscription:active::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: yellow;
        opacity: 0.3;
        animation: buttonClickEffect 0.3s ease;
    }

    .circle-button {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 80px;
        height: 80px;
        border-radius: 50%;
        text-decoration: none;
        color: white;
        font-size: 0;
    }

    .circle-button img {
        display: block;
        width: 50%;
    }

    @keyframes buttonClickEffect {
        0% {
            transform: scale(0);
            opacity: 0.5;
        }
        100% {
            transform: scale(1);
            opacity: 0;
        }
    }

    @keyframes scrollReviews {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-100%);
        }
    }

    .blinking-cursor {
        animation: blink 0.7s step-end infinite;
    }

    @keyframes blink {
        50% {
            opacity: 0;
        }
    }

    @media (max-width: 768px) {
        .buttons-section {
            flex-wrap: wrap;
            gap: 15px;
        }

        .circle-button {
            width: 60px;
            height: 60px;
        }

        .logos-section {
            flex-direction: column;
        }

        .logos-section div {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: nowrap;
            margin-bottom: 10px;
        }

        .logos-section p {
            font-size: 1.2rem;
        }

        .logos-section img {
            height: 50px;
        }
    }
</style>

<script>
    // Duplicate reviews for seamless infinite scrolling
    const reviewsCarousel = document.querySelector('.reviews-carousel');
    const reviews = reviewsCarousel.innerHTML;
    reviewsCarousel.innerHTML += reviews;

    // Ensure video plays in a loop
    document.addEventListener('DOMContentLoaded', () => {
        const video = document.getElementById('shopifyFelVideo');
        if (video) {
            video.load(); // Ensure the video is loaded
            video.play().catch(error => {
                console.error('El autoplay del video fue bloqueado:', error);
            });
        }

        // Typing effect
        const phrases = [
            "Facturas automáticas y rápidas.",
            "Integración con Shopify POS.",
            "Soporte 24/7 para tu negocio.",
            "Gestión eficiente de tus pedidos.",
            "Ahorra tiempo y aumenta productividad."
        ];
        let phraseIndex = 0;
        let charIndex = 0;
        const typedText = document.getElementById('typed-text');
        const typingSpeed = 70;
        const erasingSpeed = 30;
        const delayBetweenPhrases = 1200;

        function typePhrase() {
            if (charIndex < phrases[phraseIndex].length) {
                typedText.textContent += phrases[phraseIndex].charAt(charIndex);
                charIndex++;
                setTimeout(typePhrase, typingSpeed);
            } else {
                setTimeout(erasePhrase, delayBetweenPhrases);
            }
        }

        function erasePhrase() {
            if (charIndex > 0) {
                typedText.textContent = phrases[phraseIndex].substring(0, charIndex - 1);
                charIndex--;
                setTimeout(erasePhrase, erasingSpeed);
            } else {
                phraseIndex = (phraseIndex + 1) % phrases.length;
                setTimeout(typePhrase, typingSpeed);
            }
        }

        typePhrase();
    });
</script>
